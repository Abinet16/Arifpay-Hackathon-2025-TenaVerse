{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/ArifPayHackathon/Arifpay-Hackathon-2025-TenaVerse/client/src/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3000\",\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) config.headers.Authorization = `Bearer ${token}`;\r\n  return config;\r\n});\r\n"],"names":[],"mappings":";;;;AAGW;AAHX;;AAEO,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IAC9B,SAAS,6DAAmC;AAC9C;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO,OAAO,OAAO,CAAC,aAAa,GAAG,AAAC,UAAe,OAAN;IACpD,OAAO;AACT","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///E:/ArifPayHackathon/Arifpay-Hackathon-2025-TenaVerse/client/src/context/AuthContext.tsx"],"sourcesContent":["\"use client\";\r\nimport { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\r\nimport { api } from \"@/lib/api\";\r\nimport toast from \"react-hot-toast\";\r\n\r\ninterface User {\r\n  id: string;\r\n  email: string;\r\n  phone: string;\r\n  role: \"USER\" | \"ADMIN\";\r\n  balance: number;\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  login: (email: string, password: string) => Promise<void>;\r\n  logout: () => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType>({} as any);\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n\r\n  async function login(email: string, password: string) {\r\n    try {\r\n      const { data } = await api.post(\"/api/users/login\", { email, password });\r\n      localStorage.setItem(\"token\", data.token);\r\n      const me = await api.get(\"/api/users/me\");\r\n      setUser(me.data.user);\r\n      toast.success(\"Logged in successfully\");\r\n    } catch (err: any) {\r\n      toast.error(err.response?.data?.message || \"Login failed\");\r\n    }\r\n  }\r\n\r\n\r\n  function logout() {\r\n    localStorage.removeItem(\"token\");\r\n    setUser(null);\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (token) {\r\n        try {\r\n          const me = await api.get(\"/api/users/me\");\r\n          setUser(me.data.user);\r\n        } catch {\r\n          logout();\r\n        }\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;;;AAHA;;;;AAmBA,MAAM,4BAAc,IAAA,8KAAa,EAAkB,CAAC;AAE7C,MAAM,UAAU;;IAAM,OAAA,IAAA,2KAAU,EAAC;AAAW;GAAtC;AAEN,SAAS,aAAa,KAAqC;QAArC,EAAE,QAAQ,EAA2B,GAArC;;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAE9C,eAAe,MAAM,KAAa,EAAE,QAAgB;QAClD,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,2HAAG,CAAC,IAAI,CAAC,oBAAoB;gBAAE;gBAAO;YAAS;YACtE,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,MAAM,KAAK,MAAM,2HAAG,CAAC,GAAG,CAAC;YACzB,QAAQ,GAAG,IAAI,CAAC,IAAI;YACpB,qKAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,KAAU;gBACL,oBAAA;YAAZ,qKAAK,CAAC,KAAK,CAAC,EAAA,gBAAA,IAAI,QAAQ,cAAZ,qCAAA,qBAAA,cAAc,IAAI,cAAlB,yCAAA,mBAAoB,OAAO,KAAI;QAC7C;IACF;IAGA,SAAS;QACP,aAAa,UAAU,CAAC;QACxB,QAAQ;IACV;IAEA,IAAA,0KAAS;kCAAC;YACR;0CAAC;oBACC,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,IAAI,OAAO;wBACT,IAAI;4BACF,MAAM,KAAK,MAAM,2HAAG,CAAC,GAAG,CAAC;4BACzB,QAAQ,GAAG,IAAI,CAAC,IAAI;wBACtB,EAAE,UAAM;4BACN;wBACF;oBACF;gBACF;aAAC;QACH;iCAAG,EAAE;IAEL,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;QAAO;kBAChD;;;;;;AAGP;IAxCgB;KAAA","debugId":null}}]
}