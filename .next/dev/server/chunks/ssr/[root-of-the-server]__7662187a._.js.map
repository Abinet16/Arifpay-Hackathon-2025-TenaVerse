{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///E:/ArifPayHackathon/Arifpay-Hackathon-2025-TenaVerse/client/src/app/register/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { api } from \"@/lib/api\";\r\nimport toast from \"react-hot-toast\";\r\nimport { z } from \"zod\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst registerSchema = z\r\n  .object({\r\n    fullName: z.string().min(3, \"Full name is required\"),\r\n    email: z.string().email(\"Invalid email address\"),\r\n    phone: z\r\n      .string()\r\n      .regex(/^251\\d{9}$/, \"Phone must be in 2519XXXXXXXX format\"),\r\n    password: z.string().min(6, \"Password must be at least 6 characters\"),\r\n    confirmPassword: z.string(),\r\n  })\r\n  .refine((data) => data.password === data.confirmPassword, {\r\n    message: \"Passwords do not match\",\r\n    path: [\"confirmPassword\"],\r\n  });\r\n\r\ntype RegisterFormData = z.infer<typeof registerSchema>;\r\n\r\nexport default function RegisterPage() {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<RegisterFormData>({\r\n    resolver: zodResolver(registerSchema),\r\n  });\r\n\r\n  const onSubmit = async (data: RegisterFormData) => {\r\n    try {\r\n      setLoading(true);\r\n      await api.post(\"/api/auth/register\", {\r\n        name: data.fullName,\r\n        email: data.email,\r\n        phone: data.phone,\r\n        password: data.password,\r\n      });\r\n      toast.success(\"Account created successfully\");\r\n      router.push(\"/login\");\r\n    } catch (err: any) {\r\n      toast.error(err.response?.data?.message || \"Registration failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4\">\r\n      <div className=\"w-full max-w-md bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\">\r\n        <h1 className=\"text-2xl font-bold text-center mb-6\">Create Account</h1>\r\n\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\r\n          {/* Full Name */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Full Name</label>\r\n            <input\r\n              type=\"text\"\r\n              {...register(\"fullName\")}\r\n              className=\"w-full p-2 border rounded bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 outline-none\"\r\n            />\r\n            {errors.fullName && (\r\n              <p className=\"text-red-500 text-sm mt-1\">\r\n                {errors.fullName.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Email */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              {...register(\"email\")}\r\n              className=\"w-full p-2 border rounded bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 outline-none\"\r\n            />\r\n            {errors.email && (\r\n              <p className=\"text-red-500 text-sm mt-1\">\r\n                {errors.email.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Phone */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Phone</label>\r\n            <input\r\n              type=\"text\"\r\n              {...register(\"phone\")}\r\n              placeholder=\"e.g. 251911111111\"\r\n              className=\"w-full p-2 border rounded bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 outline-none\"\r\n            />\r\n            {errors.phone && (\r\n              <p className=\"text-red-500 text-sm mt-1\">\r\n                {errors.phone.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Password */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-1\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              {...register(\"password\")}\r\n              className=\"w-full p-2 border rounded bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 outline-none\"\r\n            />\r\n            {errors.password && (\r\n              <p className=\"text-red-500 text-sm mt-1\">\r\n                {errors.password.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Confirm Password */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-1\">\r\n              Confirm Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              {...register(\"confirmPassword\")}\r\n              className=\"w-full p-2 border rounded bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 outline-none\"\r\n            />\r\n            {errors.confirmPassword && (\r\n              <p className=\"text-red-500 text-sm mt-1\">\r\n                {errors.confirmPassword.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Submit */}\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className={`w-full bg-blue-600 text-white py-2 rounded-lg font-semibold hover:bg-blue-700 transition ${\r\n              loading ? \"opacity-70 cursor-not-allowed\" : \"\"\r\n            }`}\r\n          >\r\n            {loading ? \"Creating...\" : \"Sign Up\"}\r\n          </button>\r\n        </form>\r\n\r\n        <p className=\"text-sm text-center text-gray-500 dark:text-gray-400 mt-4\">\r\n          Already have an account?{\" \"}\r\n          <Link\r\n            href=\"/login\"\r\n            className=\"text-blue-600 dark:text-blue-400 hover:underline\"\r\n          >\r\n            Login\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAWA,MAAM,iBAAiB,kLAAC,CACrB,MAAM,CAAC;IACN,UAAU,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,OAAO,kLAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,OAAO,kLAAC,CACL,MAAM,GACN,KAAK,CAAC,cAAc;IACvB,UAAU,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,iBAAiB,kLAAC,CAAC,MAAM;AAC3B,GACC,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,KAAK,KAAK,eAAe,EAAE;IACxD,SAAS;IACT,MAAM;QAAC;KAAkB;AAC3B;AAIa,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACtB,GAAG,IAAA,yKAAO,EAAmB;QAC5B,UAAU,IAAA,6KAAW,EAAC;IACxB;IAEA,MAAM,WAAW,OAAO;QACtB,IAAI;YACF,WAAW;YACX,MAAM,wHAAG,CAAC,IAAI,CAAC,sBAAsB;gBACnC,MAAM,KAAK,QAAQ;gBACnB,OAAO,KAAK,KAAK;gBACjB,OAAO,KAAK,KAAK;gBACjB,UAAU,KAAK,QAAQ;YACzB;YACA,kKAAK,CAAC,OAAO,CAAC;YACd,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAU;YACjB,kKAAK,CAAC,KAAK,CAAC,IAAI,QAAQ,EAAE,MAAM,WAAW;QAC7C,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAsC;;;;;;8BAEpD,8OAAC;oBAAK,UAAU,aAAa;oBAAW,WAAU;;sCAEhD,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAClD,8OAAC;oCACC,MAAK;oCACJ,GAAG,SAAS,WAAW;oCACxB,WAAU;;;;;;gCAEX,OAAO,QAAQ,kBACd,8OAAC;oCAAE,WAAU;8CACV,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;sCAM9B,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAClD,8OAAC;oCACC,MAAK;oCACJ,GAAG,SAAS,QAAQ;oCACrB,WAAU;;;;;;gCAEX,OAAO,KAAK,kBACX,8OAAC;oCAAE,WAAU;8CACV,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;sCAM3B,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAClD,8OAAC;oCACC,MAAK;oCACJ,GAAG,SAAS,QAAQ;oCACrB,aAAY;oCACZ,WAAU;;;;;;gCAEX,OAAO,KAAK,kBACX,8OAAC;oCAAE,WAAU;8CACV,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;sCAM3B,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAClD,8OAAC;oCACC,MAAK;oCACJ,GAAG,SAAS,WAAW;oCACxB,WAAU;;;;;;gCAEX,OAAO,QAAQ,kBACd,8OAAC;oCAAE,WAAU;8CACV,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;sCAM9B,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAGlD,8OAAC;oCACC,MAAK;oCACJ,GAAG,SAAS,kBAAkB;oCAC/B,WAAU;;;;;;gCAEX,OAAO,eAAe,kBACrB,8OAAC;oCAAE,WAAU;8CACV,OAAO,eAAe,CAAC,OAAO;;;;;;;;;;;;sCAMrC,8OAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAW,CAAC,yFAAyF,EACnG,UAAU,kCAAkC,IAC5C;sCAED,UAAU,gBAAgB;;;;;;;;;;;;8BAI/B,8OAAC;oBAAE,WAAU;;wBAA4D;wBAC9C;sCACzB,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}}]
}