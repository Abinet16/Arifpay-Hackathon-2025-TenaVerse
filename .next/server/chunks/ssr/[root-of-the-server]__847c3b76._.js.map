{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///E:/ArifPayHackathon/Arifpay-Hackathon-2025-TenaVerse/client/src/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3000\",\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) config.headers.Authorization = `Bearer ${token}`;\r\n  return config;\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IAC9B,SAAS,6DAAmC;AAC9C;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAC3D,OAAO;AACT","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///E:/ArifPayHackathon/Arifpay-Hackathon-2025-TenaVerse/client/src/context/AuthContext.tsx"],"sourcesContent":["\"use client\";\r\nimport { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\r\nimport { api } from \"@/lib/api\";\r\nimport toast from \"react-hot-toast\";\r\n\r\ninterface User {\r\n  id: string;\r\n  email: string;\r\n  phone: string;\r\n  role: \"USER\" | \"ADMIN\";\r\n  balance: number;\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  login: (email: string, password: string) => Promise<void>;\r\n  logout: () => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType>({} as any);\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n\r\n  async function login(email: string, password: string) {\r\n    try {\r\n      const { data } = await api.post(\"/api/users/login\", { email, password });\r\n      localStorage.setItem(\"token\", data.token);\r\n      const me = await api.get(\"/api/users/me\");\r\n      setUser(me.data.user);\r\n      toast.success(\"Logged in successfully\");\r\n    } catch (err: any) {\r\n      toast.error(err.response?.data?.message || \"Login failed\");\r\n    }\r\n  }\r\n\r\n  function logout() {\r\n    localStorage.removeItem(\"token\");\r\n    setUser(null);\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (token) {\r\n        try {\r\n          const me = await api.get(\"/api/users/me\");\r\n          setUser(me.data.user);\r\n        } catch {\r\n          logout();\r\n        }\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AAHA;;;;;AAmBA,MAAM,4BAAc,IAAA,sNAAa,EAAkB,CAAC;AAE7C,MAAM,UAAU,IAAM,IAAA,mNAAU,EAAC;AAEjC,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAE9C,eAAe,MAAM,KAAa,EAAE,QAAgB;QAClD,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,wHAAG,CAAC,IAAI,CAAC,oBAAoB;gBAAE;gBAAO;YAAS;YACtE,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,MAAM,KAAK,MAAM,wHAAG,CAAC,GAAG,CAAC;YACzB,QAAQ,GAAG,IAAI,CAAC,IAAI;YACpB,kKAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,KAAU;YACjB,kKAAK,CAAC,KAAK,CAAC,IAAI,QAAQ,EAAE,MAAM,WAAW;QAC7C;IACF;IAEA,SAAS;QACP,aAAa,UAAU,CAAC;QACxB,QAAQ;IACV;IAEA,IAAA,kNAAS,EAAC;QACR,CAAC;YACC,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO;gBACT,IAAI;oBACF,MAAM,KAAK,MAAM,wHAAG,CAAC,GAAG,CAAC;oBACzB,QAAQ,GAAG,IAAI,CAAC,IAAI;gBACtB,EAAE,OAAM;oBACN;gBACF;YACF;QACF,CAAC;IACH,GAAG,EAAE;IAEL,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;QAAO;kBAChD;;;;;;AAGP","debugId":null}}]
}